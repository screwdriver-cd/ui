<BsModal
  id="create-secret-modal"
  @onHide={{fn @closeModal}}
  as |modal|
>
  <modal.header>
    Create a new secret
  </modal.header>
  <modal.body>
    {{#if this.errorMessage}}
      <InfoMessage
        id="error-message"
        @message={{this.errorMessage}}
        @type="warning"
        @icon="triangle-exclamation"
      />
    {{/if}}

    <div class="create-new-secret">
      <label>
        <div>Key name:</div>
        <Input
          id="secret-name-input"
          @type="text"
          @value={{this.secretName}}
          autofocus={{true}}
          class={{this.secretNameClass}}
          disabled={{this.isInvalidName}}
        />
      </label>
      <label>
        <div>Value:</div>
        <Input
          id="secret-value-input"
          @type="text"
          @value={{this.secretValue}}
          disabled={{this.isInvalidValue}}
        />
      </label>
      <div id="allow-in-pr-container">
        <label>
          <div>Allow in PR:</div>
        </label>
        <XToggle
          id="allow-in-pr-toggle"
          @size="small"
          @theme="light"
          @value={{this.allowInPr}}
          @onToggle={{fn this.toggleAllowInPr}}
        />
      </div>
    </div>
  </modal.body>
  <modal.footer>
    <BsButton
      id="submit-secret"
      class="confirm"
      disabled={{this.isSubmitButtonDisabled}}
      @defaultText="Create secret"
      @pendingText="Creating secret..."
      @type="primary"
      @onClick={{fn this.createSecret}}
    />
  </modal.footer>
</BsModal>
